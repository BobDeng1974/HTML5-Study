<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>小球物理碰撞和检查</title>
</head>
<body>
  <canvas id="canvas" style="border:1px solid #aaa;display:block;margin:50px auto;"></canvas>

  <script>
    let ball = {x: 712, y: 100, r: 20, g: 2, vx: -4, vy: 0, color: "red"};

    window.onload = function () {
      let canvas = document.getElementById("canvas");
      canvas.width = 800;
      canvas.height = 400;
      let context = canvas.getContext("2d");

      setInterval(function () {
        loading(context);
        move();
      }, 30);
    };

    function move() {
      ball.x += ball.vx;
      ball.y += ball.vy;
      ball.vy += ball.g;

      if (ball.y > 400 - ball.r) {
        ball.y = 400 - ball.r;
        ball.vy = -ball.vy * 0.75;
      }
    }

    function loading(context) {
      context.clearRect(0, 0, context.canvas.width, context.canvas.height);
      context.fillStyle = ball.color;
      context.beginPath();
      context.arc(ball.x, ball.y, ball.r, 0, 2 * Math.PI);
      context.closePath();
      context.fill();
    }
  </script>
</body>
</html>
